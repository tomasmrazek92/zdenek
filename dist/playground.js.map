{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/playground.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/* --- Note Modal */\nconst canvas1 = document.getElementById('drawingCanvas-dark');\nconst ctx1 = canvas1.getContext('2d');\nctx1.strokeStyle = 'black';\n\nconst canvas2 = document.getElementById('drawingCanvas-light');\nconst ctx2 = canvas2.getContext('2d');\nctx2.strokeStyle = 'white';\n\nlet drawing = false;\nlet base64Image;\n\nctx1.lineWidth = 15;\nctx1.lineCap = 'round'; // Set the line cap to round\nctx2.lineWidth = 15;\nctx1.lineCap = 'round'; // Set the line cap to round\n\nconst imageDarkDataInput = document.getElementById('base64Image-dark');\nconst imageLightDataInput = document.getElementById('base64Image-light');\n\nfunction getCoordinates(e, touch = false) {\n  const rect = canvas1.getBoundingClientRect();\n  const scaleX = canvas1.width / rect.width;\n  const scaleY = canvas1.height / rect.height;\n  const offsetX = (touch ? e.touches[0].clientX : e.clientX) - rect.left;\n  const offsetY = (touch ? e.touches[0].clientY : e.clientY) - rect.top;\n\n  return { offsetX: offsetX * scaleX, offsetY: offsetY * scaleY };\n}\n\nfunction startDrawing(e, touch = false) {\n  drawing = true;\n  $('#createBtn').removeClass('disabled');\n  const { offsetX, offsetY } = getCoordinates(e, touch);\n  ctx1.beginPath();\n  ctx1.moveTo(offsetX, offsetY);\n}\n\nfunction draw(e, touch = false) {\n  if (!drawing) return;\n  const { offsetX, offsetY } = getCoordinates(e, touch);\n  ctx1.lineTo(offsetX, offsetY);\n  ctx1.stroke();\n  ctx2.lineTo(offsetX, offsetY);\n  ctx2.stroke();\n}\n\nfunction stopDrawing() {\n  if (!drawing) return;\n  drawing = false;\n  let base64ImageBlack = canvas1.toDataURL();\n  let base64ImageWhite = canvas2.toDataURL();\n\n  imageDarkDataInput.value = base64ImageBlack;\n  imageLightDataInput.value = base64ImageWhite;\n}\n\n// Mouse events\ncanvas1.addEventListener('mousedown', startDrawing);\ncanvas1.addEventListener('mousemove', draw);\ncanvas1.addEventListener('mouseup', stopDrawing);\n\n// Touch events\ncanvas1.addEventListener(\n  'touchstart',\n  (e) => {\n    e.preventDefault();\n    startDrawing(e, true);\n  },\n  { passive: false }\n);\n\ncanvas1.addEventListener(\n  'touchmove',\n  (e) => {\n    e.preventDefault();\n    draw(e, true);\n  },\n  { passive: false }\n);\n\ncanvas1.addEventListener('touchend', stopDrawing);\n\n// Create Note\n$('#createBtn').on('click', async function () {\n  // Prevent multiple submissions\n  $(this).addClass('disabled');\n  $(this).text('Submitting..');\n\n  // Call API\n  const response = await fetch('https://api.zdenek.design/api/upload', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ base64: base64Image }),\n  });\n\n  const data = await response.json();\n\n  imageDataInput.value = '';\n  $('[name=img-source]').val(data.url);\n\n  // Submit the Form\n  $('#submitBtn').trigger('click');\n  $(document).ajaxComplete(function (event, xhr, settings) {\n    if (settings.url.includes('https://webflow.com/api/v1/form/')) {\n      const isSuccessful = xhr.status === 200;\n      const redirectFormName = 'note-form';\n      const isRedirectForm = settings.data.includes(redirectFormName);\n      if (isSuccessful) {\n        setTimeout(() => {\n          window.location.reload();\n        }, 3000);\n      }\n    }\n  });\n});\n\n// Open modal\n$('.plg-note_item.button-item').on('click', function () {\n  $('html,body').addClass('overflow-hidden');\n});\n\n// Close Note\n$('[close-note]').on('click', function () {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  $('html,body').removeClass('overflow-hidden');\n});\n\n/* --- PLG Modal */\nconst modal = '.plg-modal';\nconst modalContent = '.plg-modal_content';\nconst modalSlider = '.plg-modal_slider';\nlet item;\nlet swiper;\nlet modalOpen = false;\nlet swiperInit = false;\nlet scrollPosition;\n\n// --- Open Modal\n$('.plg-visuals_visual').on('click', function () {\n  let item = $(this);\n  let name = item.find('.name').val();\n  let slug = item.find('.slug').val();\n\n  // Reset\n  $(modalContent).empty();\n\n  // Reveal\n  let tl = gsap.timeline();\n  tl.set(modal, {\n    opacity: 0,\n  });\n  tl.to(modal, {\n    opacity: 1,\n    display: 'block',\n  });\n\n  // Load\n  $(modalContent).load('/playground-items/' + slug + ' ' + '.plg-modal_slider', function () {\n    modalOpen = true;\n    if (swiperInit) {\n      swiper.destroy(true, true);\n      swiperInit = false;\n    }\n\n    // Disable Scroll\n    disableScroll();\n\n    // Swiper\n    swiperMode(modalSlider);\n\n    // Content\n    $('.plg-modal_head-inner p').text(name);\n    let items = $(modal).find('.plg-modal_item-1');\n    let tl = gsap.timeline();\n    tl.from(items, {\n      y: '2rem',\n      opacity: 0,\n      stagger: {\n        each: 0.2,\n      },\n    });\n\n    // Play All videos\n    if (window.matchMedia('(min-width: 0px) and (max-width: 991px)')) {\n      $(modalContent)\n        .find('video')\n        .each(function () {\n          $(this)[0].load();\n          $(this)[0].play();\n        });\n    }\n  });\n});\n\nfunction swiperMode(swiperInstance) {\n  const mobile = window.matchMedia('(min-width: 0px) and (max-width: 991px)');\n  const desktop = window.matchMedia('(min-width: 992px)');\n\n  if (modalOpen) {\n    // Disable (for desktop)\n    if (desktop.matches) {\n      if (!swiperInit) {\n        swiperInit = true;\n        swiper = new Swiper(swiperInstance, {\n          // Optional parameters\n          slidesPerView: 'auto',\n          spaceBetween: 48,\n          speed: 500,\n          observer: true,\n          mousewheel: {\n            thresholdDelta: 35,\n          },\n          keyboard: {\n            enabled: true,\n          },\n          longSwipesRatio: 0.01,\n          on: {\n            slideChange: (swiper) => {\n              handleVideos($('.swiper-wrapper'), swiper.realIndex);\n            },\n            init: (swiper) => {\n              handleVideos($('.swiper-wrapper'), swiper.realIndex);\n            },\n            onRealIndexChange: (swiper) => {\n              swiper.allowTouchMove = false;\n              swiper.unsetGrabCursor();\n            },\n            onTouchEnd: (swiper) => {\n              swiper.allowTouchMove = true;\n            },\n          },\n        });\n      }\n    }\n\n    // Enable (for Mobile)\n    else if (mobile.matches) {\n      if (swiperInit) {\n        swiper.destroy(true, true);\n        swiperInit = false;\n      }\n    }\n  }\n}\n\n// Load\nwindow.addEventListener('load', function () {\n  swiperMode(modalSlider);\n});\n\n// Resize\nwindow.addEventListener('resize', function () {\n  swiperMode(modalSlider);\n});\n\n// Handle Videos\nconst handleVideos = (slider, index) => {\n  let videos = $(slider).find('[visual-video]').not('.w-condition-invisible');\n  let slides = $(slider).find('.swiper-slide');\n  let currentSlide = slides.eq(index);\n  console.log(videos);\n\n  // stop all\n  videos.each(function () {\n    $(this).find('video')[0].pause();\n    $(this).find('video')[0].currentTime = 0;\n  });\n\n  let currentVideo = currentSlide.find(videos).find('video')[0];\n  console.log(currentVideo);\n\n  if (currentVideo) {\n    currentVideo.play();\n  }\n};\n\n// --- Close Modal\n$('#modalClose').on('click', function () {\n  modalOpen = false;\n\n  // Enable Scroll\n  disableScroll();\n\n  // Animation\n  let tl = gsap.timeline();\n  let items = $(modal).find('.plg-modal_item-1');\n  tl.to(items, {\n    y: '2rem',\n    opacity: 0,\n    stagger: {\n      each: 0.2,\n    },\n    duration: 0.3,\n  });\n  tl.to(\n    modal,\n    {\n      opacity: 0,\n      duration: 0.3,\n    },\n    '<'\n  );\n  tl.set(modal, { display: 'none' }, '<');\n\n  // Swiper\n  if (swiper) {\n    swiper.destroy();\n  }\n});\n\n// Close on Esc\ndocument.addEventListener('keydown', function (event) {\n  if (modalOpen === true && event.keyCode === 27) {\n    $('#modalClose').click();\n  }\n});\n\n// Scroll Disabler\nconst disableScroll = () => {\n  if (modalOpen) {\n    scrollPosition = $(window).scrollTop();\n    $('html, body').scrollTop(0).addClass('overflow-hidden');\n  } else {\n    $('html, body').scrollTop(scrollPosition).removeClass('overflow-hidden');\n  }\n};\n"],
  "mappings": "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",
  "names": ["tl", "swiper"]
}
