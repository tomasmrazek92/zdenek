"use strict";(()=>{function K(r){for(var e={top:0,left:0};r;)e.top+=r.offsetTop||0,e.left+=r.offsetLeft||0,r=r.offsetParent;return e}function U(){var r=document.getElementsByClassName("plg-note"),e=K(r[0]);e.width=r[0].offsetWidth,e.height=r[0].offsetHeight,r[0].style.visibility="visible";var i={};i.width=window.innerWidth,i.height=window.innerHeight,i.centerX=e.width/2,i.centerY=e.height/2,i.offsetX=i.width/2,i.offsetY=i.height/2;var{Engine:d}=Matter,{Render:c}=Matter,{Runner:g}=Matter,{Common:D}=Matter,{World:w}=Matter,{Bodies:f}=Matter,{Body:j}=Matter,{Events:p}=Matter,{Query:M}=Matter,{MouseConstraint:O}=Matter,{Mouse:k}=Matter,l=d.create(),{world:q}=l,y=c.create({engine:l,element:document.getElementById("debug"),options:{width:e.width,height:e.height,background:"transparent",wireframeBackground:"transparent",hasBounds:!0,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!0,showBroadphase:!0,showBounds:!0,showVelocity:!0,showCollisions:!0,showAxes:!1,showPositions:!0,showAngleIndicator:!0,showIds:!0,showShadows:!1}});c.run(y);var R=g.create();g.run(R,l);var T,F,V,z,ee,b={isStatic:!0,restitution:.8,friction:1},P={isStatic:!0,restitution:.8,friction:1};w.add(q,[z=f.rectangle(e.width/2,e.height+50,e.width+200,100,P),T=f.rectangle(e.width/2,-50,e.width+200,100,b),V=f.rectangle(e.width+50,e.height/2,100,e.height,b),F=f.rectangle(-50,e.height/2,100,e.height,b)]);for(var h=document.querySelectorAll(".plg-note_item"),s=[],x=[],m=0,Q=h.length;m<Q;m++){if(h[m].classList.contains("item"))var L=f.circle(e.width/2+Math.floor(Math.random()*e.width/2)-e.width/4,-50,h[m].offsetWidth/1.65,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24}});else if(h[m].classList.contains("button-item"))var L=f.rectangle(e.width/2+Math.floor(Math.random()*e.width/2)-e.width/4,e.height/2+Math.floor(Math.random()*e.height/2)-e.height/4,150,44,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24}});h[m].id=L.id,s.push(L)}w.add(l.world,s),l.world.gravity.y=1;var I=k.create(y.canvas),o=O.create(l,{mouse:I,constraint:{stiffness:1,render:{visible:!1},isDraggable:function(t){return!t.isStatic}}});w.add(l.world,o);let E=!1;o.mouse.element.addEventListener("mousewheel",function(){E=!0,o.mouse.element.removeEventListener("mousewheel",o.mouse.mousewheel),o.mouse.element.removeEventListener("DOMMouseScroll",o.mouse.mousewheel)}),o.mouse.element.addEventListener("mousedown",function(){E&&(E=!1,o.mouse.element.addEventListener("mousewheel",o.mouse.mousewheel),o.mouse.element.addEventListener("DOMMouseScroll",o.mouse.mousewheel))}),y.mouse=I;var B,S,H,N,W,A;p.on(o,"mousemove",function(t){if(B=t.mouse.absolute.x,S=t.mouse.absolute.y,M.point(s,{x:B,y:S}).length){C();var n=M.point(s,{x:B,y:S})[0].id;document.getElementById(n).className+=" hover",document.body.style.cursor="pointer"}else C()});function C(){for(var t=document.getElementsByClassName("hover"),n=0;n<t.length;n++)t[n].classList.remove("hover");document.body.style.cursor="auto"}p.on(o,"mousedown",function(t){H=t.mouse.absolute.x,N=t.mouse.absolute.y}),p.on(o,"mouseup",function(t){if(W=t.mouse.absolute.x,A=t.mouse.absolute.y,H==W&&N==A){var n=M.point(s,{x:W,y:A})[0];if(n){var a=n.id,u=document.getElementById(a);u.classList.contains("button-item")&&u.click()}}C()}),window.requestAnimationFrame(X);function X(){for(var t=0,n=x.length;t<n;t++)x[t].force.y+=(Math.round(Math.random())*2-1)*.5,x[t].force.x+=(Math.round(Math.random())*2-1)*.5;for(var t=0,n=h.length;t<n;t++){for(var a=h[t],u=null,v=0,_=s.length;v<_;v++)if(s[v].id==a.id){u=s[v];break}if(u!==null){var te=r[0].getBoundingClientRect(),G=r[0].offsetTop,J=r[0].offsetLeft,Y={x:u.position.x-J,y:u.position.y-G};a.style.transform="translate( "+(Y.x-a.offsetWidth/2)+"px, "+(Y.y-a.offsetHeight*1.5+a.offsetHeight)+"px )",a.style.transform+="rotate( "+u.angle+"rad )"}}window.requestAnimationFrame(X)}}U();function Z(r,e,i){var d;return function(){var c=this,g=arguments;clearTimeout(d),d=setTimeout(function(){d=null,i||r.apply(c,g)},e),i&&!d&&r.apply(c,g)}}var $=Z(function(){location.reload()},500);window.addEventListener("resize",$);})();
