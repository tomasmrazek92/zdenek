"use strict";(()=>{function K(r){for(var e={top:0,left:0};r;)e.top+=r.offsetTop||0,e.left+=r.offsetLeft||0,r=r.offsetParent;return e}function U(){var r=document.getElementsByClassName("plg-note"),e=K(r[0]);e.width=r[0].offsetWidth,e.height=r[0].offsetHeight,r[0].style.visibility="visible";var i={};i.width=window.innerWidth,i.height=window.innerHeight,i.centerX=e.width/2,i.centerY=e.height/2,i.offsetX=i.width/2,i.offsetY=i.height/2;var{Engine:f}=Matter,{Render:c}=Matter,{Runner:g}=Matter,{Common:D}=Matter,{World:v}=Matter,{Bodies:m}=Matter,{Body:j}=Matter,{Events:p}=Matter,{Query:M}=Matter,{MouseConstraint:O}=Matter,{Mouse:k}=Matter,l=f.create(),{world:q}=l,y=c.create({engine:l,element:document.getElementById("debug"),options:{width:e.width,height:e.height,background:"transparent",wireframeBackground:"transparent",hasBounds:!0,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!0,showBroadphase:!0,showBounds:!0,showVelocity:!0,showCollisions:!0,showAxes:!1,showPositions:!0,showAngleIndicator:!0,showIds:!0,showShadows:!1}});c.run(y);var R=g.create();g.run(R,l);var T,F,V,z,ee,b={isStatic:!0,restitution:.8,friction:1},P={isStatic:!0,restitution:.8,friction:1};v.add(q,[z=m.rectangle(e.width/2,e.height+50,e.width+200,100,P),T=m.rectangle(e.width/2,-50,e.width+200,100,b),V=m.rectangle(e.width+50,e.height/2,100,e.height,b),F=m.rectangle(-50,e.height/2,100,e.height,b)]);for(var s=document.querySelectorAll(".plg-note_item"),a=[],x=[],d=0,Q=s.length;d<Q;d++){if(s[d].classList.contains("item"))var L=m.rectangle(e.width/2+Math.floor(Math.random()*e.width/2)-e.width/4,-50,e.width*s[d].offsetWidth/window.innerWidth,e.height*s[d].offsetHeight/window.innerHeight,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24}});else if(s[d].classList.contains("button-item"))var L=m.rectangle(e.width/2+Math.floor(Math.random()*e.width/2)-e.width/4,e.height/2+Math.floor(Math.random()*e.height/2)-e.height/4,150,44,{restitution:.5,friction:0,frictionAir:.001,frictionStatic:0,density:1,chamfer:{radius:24}});s[d].id=L.id,a.push(L)}v.add(l.world,a),l.world.gravity.y=1;var C=k.create(y.canvas),o=O.create(l,{mouse:C,constraint:{stiffness:1,render:{visible:!1},isDraggable:function(t){return!t.isStatic}}});v.add(l.world,o);let E=!1;o.mouse.element.addEventListener("mousewheel",function(){E=!0,o.mouse.element.removeEventListener("mousewheel",o.mouse.mousewheel),o.mouse.element.removeEventListener("DOMMouseScroll",o.mouse.mousewheel)}),o.mouse.element.addEventListener("mousedown",function(){E&&(E=!1,o.mouse.element.addEventListener("mousewheel",o.mouse.mousewheel),o.mouse.element.addEventListener("DOMMouseScroll",o.mouse.mousewheel))}),y.mouse=C;var B,S,I,N,W,A;p.on(o,"mousemove",function(t){if(B=t.mouse.absolute.x,S=t.mouse.absolute.y,M.point(a,{x:B,y:S}).length){H();var n=M.point(a,{x:B,y:S})[0].id;document.getElementById(n).className+=" hover",document.body.style.cursor="pointer"}else H()});function H(){for(var t=document.getElementsByClassName("hover"),n=0;n<t.length;n++)t[n].classList.remove("hover");document.body.style.cursor="auto"}p.on(o,"mousedown",function(t){I=t.mouse.absolute.x,N=t.mouse.absolute.y}),p.on(o,"mouseup",function(t){if(W=t.mouse.absolute.x,A=t.mouse.absolute.y,I==W&&N==A){var n=M.point(a,{x:W,y:A})[0];if(n){var u=n.id,h=document.getElementById(u);h.classList.contains("button-item")&&h.click()}}H()}),window.requestAnimationFrame(X);function X(){for(var t=0,n=x.length;t<n;t++)x[t].force.y+=(Math.round(Math.random())*2-1)*.5,x[t].force.x+=(Math.round(Math.random())*2-1)*.5;for(var t=0,n=s.length;t<n;t++){for(var u=s[t],h=null,w=0,_=a.length;w<_;w++)if(a[w].id==u.id){h=a[w];break}if(h!==null){var te=r[0].getBoundingClientRect(),G=r[0].offsetTop,J=r[0].offsetLeft,Y={x:h.position.x-J,y:h.position.y-G};u.style.transform="translate( "+(Y.x-u.offsetWidth/2)+"px, "+(Y.y-u.offsetHeight*1.5+u.offsetHeight)+"px )",u.style.transform+="rotate( "+h.angle+"rad )"}}window.requestAnimationFrame(X)}}U();function Z(r,e,i){var f;return function(){var c=this,g=arguments;clearTimeout(f),f=setTimeout(function(){f=null,i||r.apply(c,g)},e),i&&!f&&r.apply(c,g)}}var $=Z(function(){location.reload()},500);window.addEventListener("resize",$);})();
