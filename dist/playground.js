"use strict";(()=>{var o=document.getElementById("drawingCanvas"),c=o.getContext("2d"),p=!1;c.lineWidth=5;var u=document.getElementById("base64Image");o.addEventListener("mousedown",t=>{p=!0;let e=o.getBoundingClientRect(),i=o.width/e.width,n=o.height/e.height,s=t.clientX-e.left,l=t.clientY-e.top;c.beginPath(),c.moveTo(s*i,l*n)});o.addEventListener("mousemove",t=>{if(!p)return;let e=o.getBoundingClientRect(),i=o.width/e.width,n=o.height/e.height,s=t.clientX-e.left,l=t.clientY-e.top;c.lineTo(s*i,l*n),c.stroke()});o.addEventListener("mouseup",()=>{p=!1;let e=o.toDataURL("").replace(/^data:image\/(png|jpeg|jpg);base64,/,"");u.removeAttribute("maxlength"),u.value=e});$("#createBtn").on("click",function(){$("#submitBtn").trigger("click")});var d=".plg-modal",h=".plg-modal_content",f=".plg-modal_slider";var r,m=!1,a=!1,w;$(".plg-visuals_visual").on("click",function(){let t=$(this),e=t.find(".name").val(),i=t.find(".slug").val();$(h).empty();let n=gsap.timeline();n.set(d,{opacity:0}),n.to(d,{opacity:1,display:"block"}),$(h).load("/playground-items/"+i+" .plg-modal_slider",function(){m=!0,a&&(r.destroy(!0,!0),a=!1),y(),g(f),$(".plg-modal_head-inner p").text(e);let s=$(d).find(".plg-modal_item-1");gsap.timeline().from(s,{y:"2rem",opacity:0,stagger:{each:.2}})})});function g(t){let e=window.matchMedia("(min-width: 0px) and (max-width: 991px)"),i=window.matchMedia("(min-width: 992px)");m&&(i.matches?a||(a=!0,r=new Swiper(t,{slidesPerView:"auto",spaceBetween:48,speed:500,observer:!0,mousewheel:!0,keyboard:{enabled:!0},on:{slideChange:n=>{v($(".swiper-wrapper"),n.realIndex)},init:n=>{v($(".swiper-wrapper"),n.realIndex)}}})):e.matches&&a&&(r.destroy(!0,!0),a=!1))}window.addEventListener("load",function(){g(f)});window.addEventListener("resize",function(){g(f)});var v=(t,e)=>{let i=$(t).find("[visual-video]").not(".w-condition-invisible"),s=$(t).find(".swiper-slide").eq(e);console.log(i),i.each(function(){$(this).find("video")[0].pause(),$(this).find("video")[0].currentTime=0});let l=s.find(i).find("video")[0];console.log(l),l&&l.play()};$("#modalClose").on("click",function(){r&&r.destroy(),m=!1,y();let t=gsap.timeline(),e=$(d).find(".plg-modal_item-1");t.to(e,{y:"2rem",opacity:0,stagger:{each:.2}}),t.to(d,{opacity:0},"<"),t.set(d,{display:"none"})});var y=()=>{m?(w=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")):$("html, body").scrollTop(w).removeClass("overflow-hidden")};})();
