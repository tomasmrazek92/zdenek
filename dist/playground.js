"use strict";(()=>{var o=document.getElementById("drawingCanvas"),a=o.getContext("2d"),f=!1;a.lineWidth=5;var v=document.getElementById("base64Image");o.addEventListener("mousedown",e=>{f=!0;let t=o.getBoundingClientRect(),n=o.width/t.width,i=o.height/t.height,s=e.clientX-t.left,d=e.clientY-t.top;a.beginPath(),a.moveTo(s*n,d*i)});o.addEventListener("mousemove",e=>{if(!f)return;let t=o.getBoundingClientRect(),n=o.width/t.width,i=o.height/t.height,s=e.clientX-t.left,d=e.clientY-t.top;a.lineTo(s*n,d*i),a.stroke()});o.addEventListener("mouseup",()=>{f=!1;let e=o.toDataURL(),t=atob(e.split(",")[1]),n=new TextDecoder("utf-8").decode(new Uint8Array([...t].map(i=>i.charCodeAt(0))));v.value=e});$("#createBtn").on("click",function(){$("#submitBtn").trigger("click")});var l=".plg-modal",u=".plg-modal_content",p=".plg-modal_slider";var r,m=!1,c=!1,h;$(".plg-visuals_visual").on("click",function(){let e=$(this),t=e.find(".name").val(),n=e.find(".slug").val();$(u).empty();let i=gsap.timeline();i.set(l,{opacity:0}),i.to(l,{opacity:1,display:"block"}),$(u).load("/playground-items/"+n+" .plg-modal_slider",function(){m=!0,w(),g(p),$(".plg-modal_head-inner p").text(t);let s=$(l).find(".plg-modal_item-1");gsap.timeline().from(s,{y:"2rem",opacity:0,stagger:{each:.2}})})});function g(e){let t=window.matchMedia("(min-width: 0px) and (max-width: 991px)"),n=window.matchMedia("(min-width: 992px)");m&&(n.matches?c||(c=!0,r=new Swiper(e,{slidesPerView:"auto",spaceBetween:48,speed:500,observer:!0,mousewheel:{invert:!0,forceToAxis:!0},keyboard:{enabled:!0}})):t.matches&&c&&(r.destroy(!0,!0),c=!1))}window.addEventListener("load",function(){g(p)});window.addEventListener("resize",function(){g(p)});$("#modalClose").on("click",function(){r&&r.destroy(),m=!1,w();let e=gsap.timeline(),t=$(l).find(".plg-modal_item-1");e.to(t,{y:"2rem",opacity:0,stagger:{each:.2}}),e.to(l,{opacity:0},"<"),e.set(l,{display:"none"})});var w=()=>{m?(h=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")):$("html, body").scrollTop(h).removeClass("overflow-hidden")};})();
